<!DOCTYPE html>
<html >

<head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Ng-cells : " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <link rel="stylesheet" type="text/css" media="screen" href="dist/ng-cells-0.3.2.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/samples.css">

    <script src="javascripts/angular-1.2.6.js"></script>
    <script src="javascripts/angular-sanitize-1.2.6.js"></script>
    <script src="dist/ng-cells-0.3.2.min.js"></script>

    <title>Ng-cells Performance</title>

    <script>
        angular.module('ngcTableDirectiveTest', ['ngcTableDirective'])
            .controller('TestCtrl', function($scope, $timeout, $location) {
                // Initialize the data as empty array
                $scope.data = [];
                $scope.rows = 0;
                $scope.cols = 0;

                // After 2000 ms, create the data
                $timeout(function() {
                    // Get the rows and columns values from the URL
                    $scope.rows = parseInt($location.search().rows) || 1000;
                    $scope.cols = parseInt($location.search().cols) || 1000;

                    // Create a new array and fill it
                    var newData = [];
                    for (var row = 0; row < $scope.rows; row++) {
                        var rowContent = [];
                        for (var col = 1; col < $scope.cols + 1; col++) {
                            rowContent.push(row * col + col);
                        }
                        newData.push(rowContent);
                    }
                    // Assign the new array to the data of the scope
                    $scope.data = newData;
                }, 2000);
            });
    </script>

</head>

<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/gdepourtales/ng-cells">View on GitHub</a>

        <h1 id="project_title">Ng-cells Performance</h1>
        <h2 id="project_tagline"></h2>

        <section id="downloads">
            <a class="zip_download_link" href="https://github.com/gdepourtales/ng-cells/zipball/master">Download this project as a .zip file</a>
            <a class="tar_download_link" href="https://github.com/gdepourtales/ng-cells/tarball/master">Download this project as a tar.gz file</a>
        </section>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
    <section id="main_content" class="inner">

<h1>
    <a name="example" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Performance</h1>

        <h4>Data will be generated after 2 seconds and the table updated automatically once done. See the code below</h4>

        <hr/>

<div ng-app="ngcTableDirectiveTest" ng-controller="TestCtrl">

    <p>Rows: <code>{{rows}}</code>, Columns: <code>{{cols}}</code> = <code>{{rows * cols}}</code> cells

    <div ngc-table
         data="data"
         left-column-number="2" left-column-widths="'60px'"
         center-column-number="5" center-column-widths="'60px'"
         right-column-number="2" right-column-widths="'60px'"
         header-row-number="2" header-row-heights="'15px'"
         row-number='15' row-heights="'15px'"
         footer-row-number="3" footer-row-heights="'15px'"></div>
</div>


        <p>You can change the rows and cols parameters in the URL and reload the page to test out performance. Be careful
            though, huge numbers will overload your browser because of the amount of data generated and not the rendering.
            It has been tested successfully with numbers up to 100k rows x 1k cols (this means 100 millions cells) on a
            Macbook Pro (Firefox, Chrome, Opera & Safari).</p>

<h1><a name="directive" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Directive</h1>

<pre><code>&lt;div ngc-table
    data="data"
    left-column-number="2" left-column-widths="'60px'"
    center-column-number="5" center-column-widths="'60px'"
    right-column-number="2" right-column-widths="'60px'"
    header-row-number="2" header-row-heights="'15px'"
    row-number='15' row-heights="'15px'"
    footer-row-number="3" footer-row-heights="'15px'">&lt;/div>
</code></pre>

<h1><a name="javascript" class="anchor" href="#features"><span class="octicon octicon-link"></span></a>Controller</h1>

<pre><code>angular.module('ngcTableDirectiveTest', ['ngcTableDirective'])
    .controller('TestCtrl', function($scope, $timeout, $location) {
        // Initialize the data as empty array
        $scope.data = [];
        $scope.rows = 0;
        $scope.cols = 0;

        // After 2000 ms, create the data
        $timeout(function() {
            // Get the rows and columns values from the URL
            $scope.rows = parseInt($location.search().rows) || 1000;
            $scope.cols = parseInt($location.search().cols) || 1000;

            // Create a new array and fill it
            var newData = [];
            for (var row = 0; row < $scope.rows; row++) {
                var rowContent = [];
                for (var col = 1; col < $scope.cols + 1; col++) {
                    rowContent.push(row * col + col);
                }
                newData.push(rowContent);
                }
            // Assign the new array to the data of the scope
            $scope.data = newData;
        }, 2000);
    });
</code></pre>

    </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        <p class="copyright">Ng-cells maintained by <a href="https://github.com/gdepourtales">gdepourtales</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-46830282-1', 'gdepourtales.github.io');
    ga('send', 'pageview');

</script>

</body>
</html>
